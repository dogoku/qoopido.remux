/*!
* Qoopido REMux: an REM and JS based approach to responsive web design
*
* Source:  Qoopido REMux
* Version: 2.0.6
* Date:    2013-06-28
* Author:  Dirk Lüth <info@qoopido.com>
* Website: https://github.com/dlueth/qoopido.remux
*
* Copyright (c) 2013 Dirk Lüth
*
* Licensed under the MIT and GPL license.
*  - http://www.opensource.org/licenses/mit-license.php
*  - http://www.gnu.org/copyleft/gpl.html
*/
(function(e,t,r,n,o){"use strict";t();var i="qoopido/base",c=function c(){return r.qoopido.shared.prepareModule(i,e,arguments)};r.qoopido=r.qoopido||{},r.qoopido.modules=r.qoopido.modules||{},r.qoopido.shared=r.qoopido.shared||{},r.qoopido.shared.prepareModule=function(e,t,c,p){for(var a=(i=e.split("/")).splice(i.length-1,1)[0],u=r,s=r.qoopido.modules,l=0;i[l]!==o;l++)u[i[l]]=u[i[l]]||{},u=u[i[l]];return[].push.apply(c,[r,n,o]),u[a]=s[e]=p===!0?t.apply(null,c).create():t.apply(null,c)},"function"==typeof define&&define.amd?define(c):c()})(function(e,t,r){"use strict";return{create:function(){var e=Object.create(this,Object.getOwnPropertyDescriptors(this));return e._constructor&&e._constructor.apply(e,arguments),e.create=e.extend=r,e},extend:function(e){return e=e||{},e._parent=Object.create(this,Object.getOwnPropertyDescriptors(this)),Object.create(this,Object.getOwnPropertyDescriptors(e))}}},function(){"use strict";var e,t,r,n,o,i,c,p,a,u,s,l=function l(){},d=null,f="function",y="object",_="undefined",m=Function.prototype.call,b=Object.prototype,O=b.__proto__===d;if(void 0===Function.prototype.bind&&(Function.prototype.bind=function(e){var t,r=this,n=[].slice.call(arguments,1);if(typeof r!==f)throw new TypeError("Function.prototype.bind called on incompatible "+r);return t=function(){if(this instanceof t){var o=r.apply(this,n.concat([].slice.call(arguments,0)));return Object(o)===o?o:this}return r.apply(e,n.concat([].slice.call(arguments,0)))},r.prototype&&(l.prototype=r.prototype,t.prototype=new l,l.prototype=d),t}),e=m.bind(b.hasOwnProperty),t=function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}},r=function r(e){try{return e.sentinel=0,0===Object.getOwnPropertyDescriptor(e,"sentinel").value}catch(t){}},void 0===Object.keys){var h,v=!0,g=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];for(h in{toString:d})v=!1;Object.keys=function(t){var r,n=[];if(typeof t!==y&&typeof t!==f||t===d)throw new TypeError("Object.keys called on a non-object");for(r in t)e(t,r)&&n.push(r);if(v===!0){var o;for(o=0;void 0!==(r=g[o]);o++)e(t,r)&&n.push(r)}return n}}if((n=e(b,"__defineGetter__"))===!0&&(o=m.bind(b.__defineGetter__),i=m.bind(b.__defineSetter__),c=m.bind(b.__lookupGetter__),p=m.bind(b.__lookupSetter__)),Object.defineProperty&&((!t({})||"undefined"!=typeof document&&!t(document.createElement("div")))&&(a=Object.defineProperty,u=Object.defineProperties),(!r({})||"undefined"!=typeof document&&!r(document.createElement("div")))&&(s=Object.getOwnPropertyDescriptor)),(void 0===Object.defineProperty||a!==d)&&(Object.defineProperty=function(t,r,u){if(typeof t!==y&&typeof t!==f||t===d)throw new TypeError("Object.defineProperty called on non-object: "+t);if(typeof u!==y&&typeof u!==f||u===d)throw new TypeError("Property description must be an object: "+u);if(a!==d)try{return a.call(Object,t,r,u)}catch(s){}if(e(u,"value"))if(n&&(c(t,r)||p(t,r))){var l=t.__proto__;t.__proto__=b,delete t[r],t[r]=u.value,t.__proto__=l}else t[r]=u.value;else{if(n===!1)throw new TypeError("getters & setters can not be defined on this javascript engine");e(u,"get")&&o(t,r,u.get),e(u,"set")&&i(t,r,u.set)}return t}),(void 0===Object.defineProperties||u!==d)&&(Object.defineProperties=function(t,r){var n;if(u)try{return u.call(Object,t,r)}catch(o){}for(n in r)e(r,n)&&"__proto__"!==n&&Object.defineProperty(t,n,r[n]);return t}),(void 0===Object.getOwnPropertyDescriptor||s!==d)&&(Object.getOwnPropertyDescriptor=function(t,r){var o={enumerable:!0,configurable:!0};if(typeof t!==y&&typeof t!==f||t===d)throw new TypeError("Object.getOwnPropertyDescriptor called on non-object: "+t);if(s!==d)try{return s.call(Object,t,r)}catch(i){}if(e(t,r)){if(n===!0){var a,u,l=t.__proto__;if(t.__proto__=b,a=c(t,r),u=p(t,r),t.__proto__=l,a||u)return a&&(o.get=a),u&&(o.set=u),o}return o.value=t[r],o.writable=!0,o}}),void 0===Object.getOwnPropertyDescriptors&&(Object.getOwnPropertyDescriptors=function(e){var t,r,n={},o=Object.getOwnPropertyNames(e);for(t=0;void 0!==(r=o[t]);t++)n[r]=Object.getOwnPropertyDescriptor(e,r);return n}),void 0===Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),void 0===Object.create){var j;j=O||typeof document===_?function(){return{__proto__:d}}:function(){var e,t=document.createElement("iframe"),r=document.body||document.documentElement;return t.style.display="none",r.appendChild(t),t.src="javascript:",e=t.contentWindow.pointerObjectPrototype,delete e.constructor,delete e.hasOwnProperty,delete e.propertyIsEnumerable,delete e.isPrototypeOf,delete e.toLocaleString,delete e.toString,delete e.valueOf,e.__proto__=d,r.removeChild(t),t=d,l.prototype=e,j=function(){return new l},new l},Object.create=function(e,t){function r(){}var n;if(e===d)n=j();else{if(typeof e!==y&&typeof e!==f)throw new TypeError("Object prototype may only be an Object or null");r.prototype=e,n=new r,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}},window,document),function(e,t){"use strict";var r="qoopido/emitter",n=function n(){return t.qoopido.shared.prepareModule(r,e,arguments)};"function"==typeof define&&define.amd?define(["./base"],n):n(t.qoopido.base)}(function(e,t,r,n){"use strict";var o=/^(_|extend$|create$|on$|one$|off$|emit$|get.+)/;return e.extend({_mapped:null,_listener:null,_constructor:function(){var e,t=this;t._listener={},t._mapped={};for(e in t)"function"==typeof t[e]&&o.test(e)===!1&&(t[e]=t._map(e))},_map:function(e){var t=this,r=e.charAt(0).toUpperCase()+e.slice(1);return t._mapped[e]=t[e],function(){var n,o=Array.prototype.slice.call(arguments);return t.emit.apply(t,["pre"+r,o]),n=t._mapped[e].apply(t,o),t.emit.apply(t,["post"+r,n,o]),n}},on:function(e,t){var r=this;return e!==n&&t!==n&&(r._listener[e]=r._listener[e]||[]).push(t),r},one:function(e,t){var r=this;return e!==n&&t!==n&&(t.once=!0,r.on(e,t)),r},off:function(e,t){var r,o=this;if(e!==n)if(o._listener[e]=o._listener[e]||[],t)for(;-1!==(r=o._listener[e].indexOf(t));)o._listener[e].splice(r,1);else o._listener[e].length=0;return o},emit:function(e){var t,r,o=this,i=Array.prototype.slice.call(arguments).splice(1);if(e!==n)for(o._listener[e]=o._listener[e]||[],t=0;(r=o._listener[e][t])!==n;t++)r.apply(o,i),r.once===!0&&(o._listener[e].splice(t,1),t--);return o}})},window,document),function(e,t){"use strict";var r=function r(){return t.qoopido.shared.module.initialize("remux",e,arguments)};"function"==typeof define&&define.amd?define(["./emitter"],r):r(t.qoopido.emitter)}(function(e,t,r){"use strict";var n,o,i=r.getElementsByTagName("html")[0],c=16,p={fontsize:null,layout:null,ratio:{}},a={fontsize:null,layout:null},u=null;return n=e.extend({_constructor:function(){var e=this,p=parseInt(i.getAttribute("data-base"),10),a=function a(){null!==u&&t.clearTimeout(u),u=t.setTimeout(function(){e.updateState()},20)};n._parent._constructor.call(e),isNaN(p)===!1&&(c=p),o=r.createElement("style"),o.type="text/css",r.getElementsByTagName("head")[0].appendChild(o),t.addEventListener("resize",a,!1),t.addEventListener("orientationchange",a,!1),e.updateState()},getState:function(){return p},updateState:function(){var e=this;return p.fontsize=parseInt(t.getComputedStyle(i).getPropertyValue("font-size"),10),p.layout=t.getComputedStyle(i,":after").getPropertyValue("content")||null,(p.fontsize!==a.fontsize||p.layout!==a.layout)&&(a.fontsize=p.fontsize,a.layout=p.layout,p.ratio.device=t.devicePixelRatio||1,p.ratio.fontsize=p.fontsize/c,p.ratio.total=p.ratio.device*p.ratio.fontsize,e.emit("statechange",p)),e},addLayout:function(e,t){var n,i,p,a,u,s,l=this;arguments.length>1?(n={},n[e]=t):n=arguments[0];for(i in n)for(p=n[i],a=p.min;p.max>=a;a++)u=Math.round(p.width*(a/c)),s="@media screen and (min-width: "+u+"px) { html { font-size: "+a+'px; } html:after { content: "'+i+'"; display: none; } }',o.styleSheet?o.styleSheet.cssText+=s:o.appendChild(r.createTextNode(s));return l.updateState(),l}})},window);