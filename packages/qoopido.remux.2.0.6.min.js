/*!
* Qoopido REMux: an REM and JS based approach to responsive web design
*
* Source:  Qoopido REMux
* Version: 2.0.6
* Date:    2013-06-28
* Author:  Dirk Lüth <info@qoopido.com>
* Website: https://github.com/dlueth/qoopido.remux
*
* Copyright (c) 2013 Dirk Lüth
*
* Licensed under the MIT and GPL license.
*  - http://www.opensource.org/licenses/mit-license.php
*  - http://www.gnu.org/copyleft/gpl.html
*/
(function(e,t,n,r,o){"use strict";t();var i="qoopido",c=function c(){return a("base",e,arguments)},a=function a(e,t,c,a){for(var u=e.split("/"),s=u[u.length-1],l=n[i]=n[i]||{},f=n[i].modules=n[i].modules||{},p=0;u[p+1]!==o;p++)l[u[p]]=l[u[p]]||{},l=l[u[p]];return u=u.join("/"),[].push.apply(c,[u,n,r,o]),l[s]=f[u]=a===!0?t.apply(null,c).create():t.apply(null,c)};a("shared/module/initialize",function(e,t){return"function"==typeof define&&define.amd&&define(t,e),e},[a]),"function"==typeof define&&define.amd?define(c):c()})(function(e,t,n,r){"use strict";return{create:function(){var e=Object.create(this,Object.getOwnPropertyDescriptors(this));return e._constructor&&e._constructor.apply(e,arguments),e.create=e.extend=r,e},extend:function(e){return e=e||{},e._parent=Object.create(this,Object.getOwnPropertyDescriptors(this)),Object.create(this,Object.getOwnPropertyDescriptors(e))}}},function(e){"use strict";function t(){}function n(e){try{return Object[y](e,"sentinel",{}),"sentinel"in e}catch(t){}}function r(e){try{return e.sentinel=0,0===Object[_](e,"sentinel").value}catch(t){}}var o,i,c,a=null,u="function",s="object",l="undefined",f="hasOwnProperty",p="__proto__",d="prototype",y="defineProperty",m="defineProperties",_="getOwnPropertyDescriptor",b="getOwnPropertyDescriptors",O="getOwnPropertyNames",h=Object[d],j=h[p]===a,v=h[f]("__defineGetter__");if(!Object.keys){var g,w=!0,P=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];for(g in{toString:a})w=!1;Object.keys=function(t){var n,r=[];if(typeof t!==s&&typeof t!==u||t===a)throw new TypeError("Object.keys called on a non-object");for(n in t)t[f](n)&&r.push(n);if(w===!0){var o;for(o=0;(n=P[o])!==e;o++)t[f](n)&&r.push(n)}return r}}if(Object[y]&&((!n({})||typeof document!==l&&!n(document.createElement("div")))&&(o=Object[y],i=Object[m]),(!r({})||typeof document!==l&&!r(document.createElement("div")))&&(c=Object[_])),Object[y]&&o===a||(Object[y]=function(e,t,n){if(typeof e!==s&&typeof e!==u||e===a)throw new TypeError("Object[stringDefineProperty] called on non-object: "+e);if(typeof n!==s&&typeof n!==u||n===a)throw new TypeError("Property description must be an object: "+n);if(o!==a)try{return o.call(Object,e,t,n)}catch(r){}if(n[f]("value"))if(v&&(e.__lookupGetter__(t)||e.__lookupSetter__(t))){var i=e[p];e[p]=h,delete e[t],e[t]=n.value,e[p]=i}else e[t]=n.value;else{if(v===!1)throw new TypeError("getters & setters can not be defined on this javascript engine");n[f]("get")&&e.__defineGetter__(t,n.get),n[f]("set")&&e.__defineSetter__(t,n.set)}return e}),Object[m]&&i===a||(Object[m]=function(e,t){var n;if(i)try{return i.call(Object,e,t)}catch(r){}for(n in t)t[f](n)&&"__proto__"!==n&&Object[y](e,n,t[n]);return e}),Object[_]&&c===a||(Object[_]=function(e,t){var n={enumerable:!0,configurable:!0};if(typeof e!==s&&typeof e!==u||e===a)throw new TypeError("Object[stringGetOwnPropertyDescriptor] called on non-object: "+e);if(c!==a)try{return c.call(Object,e,t)}catch(r){}if(e[f](t)){if(v===!0){var o,i,l=e[p];if(e[p]=h,o=e.__lookupGetter__(t),i=e.__lookupSetter__(t),e[p]=l,o||i)return o&&(n.get=o),i&&(n.set=i),n}return n.value=e[t],n.writable=!0,n}}),Object[b]||(Object[b]=function(t){var n,r,o={},i=Object[O](t);for(n=0;(r=i[n])!==e;n++)o[r]=Object[_](t,r);return o}),Object[O]||(Object[O]=function(e){return Object.keys(e)}),!Object.create){var E;E=j||typeof document===l?function(){return{__proto__:a}}:function(){var e,n=document.createElement("iframe"),r=document.body||document.documentElement;return n.style.display="none",r.appendChild(n),n.src="javascript:",e=n.contentWindow.pointerObjectPrototype,delete e.constructor,delete e.hasOwnProperty,delete e.propertyIsEnumerable,delete e.isPrototypeOf,delete e.toLocaleString,delete e.toString,delete e.valueOf,e[p]=a,r.removeChild(n),n=a,t[d]=e,E=function(){return new t},new t},Object.create=function(e,t){function n(){}var r;if(e===a)r=E();else{if(typeof e!==s&&typeof e!==u)throw new TypeError("Object prototype may only be an Object or null");n[d]=e,r=new n,r[p]=e}return t!==void 0&&Object[m](r,t),r}}},window,document),function(e,t){"use strict";var n=function n(){return t.qoopido.shared.module.initialize("emitter",e,arguments)};"function"==typeof define&&define.amd?define(["./base"],n):n(t.qoopido.base)}(function(e,t,n,r,o){"use strict";var i=/^(_|extend$|create$|on$|one$|off$|emit$|get.+)/;return e.extend({_mapped:null,_listener:null,_constructor:function(){var e,t=this;t._listener={},t._mapped={};for(e in t)"function"==typeof t[e]&&i.test(e)===!1&&(t[e]=t._map(e))},_map:function(e){var t=this,n=e.charAt(0).toUpperCase()+e.slice(1);return t._mapped[e]=t[e],function(){var r,o=Array.prototype.slice.call(arguments);return t.emit.apply(t,["pre"+n,o]),r=t._mapped[e].apply(t,o),t.emit.apply(t,["post"+n,r,o]),r}},on:function(e,t){var n=this;return e!==o&&t!==o&&(n._listener[e]=n._listener[e]||[]).push(t),n},one:function(e,t){var n=this;return e!==o&&t!==o&&(t.once=!0,n.on(e,t)),n},off:function(e,t){var n,r=this;if(e!==o)if(r._listener[e]=r._listener[e]||[],t)for(;-1!==(n=r._listener[e].indexOf(t));)r._listener[e].splice(n,1);else r._listener[e].length=0;return r},emit:function(e){var t,n,r=this,i=Array.prototype.slice.call(arguments).splice(1);if(e!==o)for(r._listener[e]=r._listener[e]||[],t=0;(n=r._listener[e][t])!==o;t++)n.apply(r,i),n.once===!0&&(r._listener[e].splice(t,1),t--);return r}})},window),function(e,t){"use strict";var n=function n(){return t.qoopido.shared.module.initialize("remux",e,arguments,!0)};"function"==typeof define&&define.amd?define(["./emitter"],n):n(t.qoopido.emitter)}(function(e,t,n,r){"use strict";var o,i,c=r.getElementsByTagName("html")[0],a=16,u={fontsize:null,layout:null,ratio:{}},s={fontsize:null,layout:null},l=null;return o=e.extend({_constructor:function(){var e=this,t=parseInt(c.getAttribute("data-base"),10),u=function u(){null!==l&&n.clearTimeout(l),l=n.setTimeout(function(){e.updateState()},20)};o._parent._constructor.call(e),isNaN(t)===!1&&(a=t),i=r.createElement("style"),i.type="text/css",r.getElementsByTagName("head")[0].appendChild(i),n.addEventListener("resize",u,!1),n.addEventListener("orientationchange",u,!1),e.updateState()},getState:function(){return u},updateState:function(){var e=this;return u.fontsize=parseInt(n.getComputedStyle(c).getPropertyValue("font-size"),10),u.layout=n.getComputedStyle(c,":after").getPropertyValue("content")||null,(u.fontsize!==s.fontsize||u.layout!==s.layout)&&(s.fontsize=u.fontsize,s.layout=u.layout,u.ratio.device=n.devicePixelRatio||1,u.ratio.fontsize=u.fontsize/a,u.ratio.total=u.ratio.device*u.ratio.fontsize,e.emit("statechange",u)),e},addLayout:function(e,t){var n,o,c,u,s,l,f=this;arguments.length>1?(n={},n[e]=t):n=arguments[0];for(o in n)for(c=n[o],u=c.min;c.max>=u;u++)s=Math.round(c.width*(u/a)),l="@media screen and (min-width: "+s+"px) { html { font-size: "+u+'px; } html:after { content: "'+o+'"; display: none; } }',i.styleSheet?i.styleSheet.cssText+=l:i.appendChild(r.createTextNode(l));return f.updateState(),f}})},window);