/*!
* Qoopido REMux: an REM and JS based approach to responsive web design
*
* Source:  Qoopido REMux
* Version: 2.0.3
* Date:    2013-05-14
* Author:  Dirk Lüth <info@qoopido.com>
* Website: https://github.com/dlueth/qoopido.remux
*
* Copyright (c) 2013 Dirk Lüth
*
* Licensed under the MIT and GPL license.
*  - http://www.opensource.org/licenses/mit-license.php
*  - http://www.gnu.org/copyleft/gpl.html
*/
(function(e,t,n,r){"use strict";var o="qoopido",i="base",a=function a(){return[].push.apply(arguments,[t,n,r]),t[o]=t[o]||{},t[o][i]=e.apply(null,arguments)};"function"==typeof define&&define.amd?define(a):a()})(function(e,t,n){"use strict";var r=!!(Object.getOwnPropertyNames&&Array.prototype.forEach&&Object.getOwnPropertyDescriptor);return Object.create===n&&(Object.create=function(e,t){var r;if(null===e)r={__proto__:null};else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+'] != "object"');var o=function(){};o.prototype=e,r=new o,r.__proto__=e}return t!==n&&Object.defineProperties(r,t),r}),Object.getOwnPropertyDescriptors===n&&(Object.getOwnPropertyDescriptors=function(e){var t={};return Object.getOwnPropertyNames(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t}),{create:function(){var e=Object.create(this,Object.getOwnPropertyDescriptors(this));return e._constructor&&e._constructor.apply(e,arguments),e.create=e.extend=n,e},extend:function(e){if(e=e||{},e._parent=Object.create(this,Object.getOwnPropertyDescriptors(this)),r===!0)return Object.create(this,Object.getOwnPropertyDescriptors(e));var t,n=Object.create(this);for(t in e)"__proto__"!==t&&(n[t]=e[t]);return Object.create(n)}}},window,document),function(e,t,n,r){"use strict";function o(){return[].push.apply(arguments,[t,n,r]),t[i]=t[i]||{},t[i][a]=e.apply(null,arguments)}var i="qoopido",a="emitter";"function"==typeof define&&define.amd?define(["./base"],o):o(t[i].base)}(function(e,t,n,r){"use strict";var o=/^(_|extend$|create$|on$|one$|off$|emit$|get.+)/;return e.extend({_mapped:null,_listener:null,_constructor:function(){var e,t=this;t._listener={},t._mapped={};for(e in t)"function"==typeof t[e]&&o.test(e)===!1&&(t[e]=t._map(e))},_map:function(e){var t=this,n=e.charAt(0).toUpperCase()+e.slice(1);return t._mapped[e]=t[e],function(){var r,o=Array.prototype.slice.call(arguments);return t.emit.apply(t,["pre"+n,o]),r=t._mapped[e].apply(t,o),t.emit.apply(t,["post"+n,r,o]),r}},on:function(e,t){var n=this;return e!==r&&t!==r&&(n._listener[e]=n._listener[e]||[]).push(t),n},one:function(e,t){var n=this;return e!==r&&t!==r&&(t.once=!0,n.on(e,t)),n},off:function(e,t){var n,o=this;if(e!==r)if(o._listener[e]=o._listener[e]||[],t)for(;-1!==(n=o._listener[e].indexOf(t));)o._listener[e].splice(n,1);else o._listener[e].length=0;return o},emit:function(e){var t,n,o=this,i=Array.prototype.slice.call(arguments).splice(1);if(e!==r)for(o._listener[e]=o._listener[e]||[],t=0;(n=o._listener[e][t])!==r;t++)n.apply(o,i),n.once===!0&&(o._listener[e].splice(t,1),t--);return o}})},window,document),function(e,t,n,r){"use strict";function o(){return[].push.apply(arguments,[t,n,r]),t[i]=t[i]||{},t[i][a]=e.apply(null,arguments).create()}var i="qoopido",a="remux";"function"==typeof define&&define.amd?define(["./emitter"],o):o(t[i].emitter)}(function(e,t,n){"use strict";var r,o,i=n.getElementsByTagName("html")[0],a=16,s={fontsize:null,layout:null,ratio:{}},u={fontsize:null,layout:null},c=null;return r=e.extend({_constructor:function(){var e=this,s=parseInt(i.getAttribute("data-base"),10),u=function u(){null!==c&&t.clearTimeout(c),c=t.setTimeout(function(){e.updateState()},20)};r._parent._constructor.call(e),isNaN(s)===!1&&(a=s),o=n.createElement("style"),o.type="text/css",n.getElementsByTagName("head")[0].appendChild(o),t.addEventListener("resize",u,!1),t.addEventListener("orientationchange",u,!1),e.updateState()},getState:function(){return s},updateState:function(){var e=this;return s.fontsize=parseInt(t.getComputedStyle(i).getPropertyValue("font-size"),10),s.layout=t.getComputedStyle(i,":after").getPropertyValue("content")||null,(s.fontsize!==u.fontsize||s.layout!==u.layout)&&(u.fontsize=s.fontsize,u.layout=s.layout,s.ratio.device=t.devicePixelRatio||1,s.ratio.fontsize=s.fontsize/a,s.ratio.total=s.ratio.device*s.ratio.fontsize,e.emit("statechange",s)),e},addLayout:function(e,t){var r,i,s,u,c,p,l=this;arguments.length>1?(r={},r[e]=t):r=arguments[0];for(i in r)for(s=r[i],u=s.min;s.max>=u;u++)c=Math.round(s.width*(u/a)),p="@media screen and (min-width: "+c+"px) { html { font-size: "+u+'px; } html:after { content: "'+i+'"; display: none; } }',o.styleSheet?o.styleSheet.cssText+=p:o.appendChild(n.createTextNode(p));return l.updateState(),l}})},window,document);