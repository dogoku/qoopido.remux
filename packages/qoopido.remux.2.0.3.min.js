/*!
* Qoopido REMux: an REM and JS based approach to responsive web design
*
* Source:  Qoopido REMux
* Version: 2.0.3
* Date:    2013-06-07
* Author:  Dirk Lüth <info@qoopido.com>
* Website: https://github.com/dlueth/qoopido.remux
*
* Copyright (c) 2013 Dirk Lüth
*
* Licensed under the MIT and GPL license.
*  - http://www.opensource.org/licenses/mit-license.php
*  - http://www.gnu.org/copyleft/gpl.html
*/
(function(e,t,r,n){"use strict";var o="qoopido/base",i=function i(){return t.qoopido.shared.prepareModule(o,e,arguments)};t.qoopido=t.qoopido||{},t.qoopido.shared=t.qoopido.shared||{},t.qoopido.shared.prepareModule=function(e,o,i,a){for(var s=(e=e.split("/")).splice(e.length-1,1)[0],c=t,u=0;e[u]!==n;u++)c[e[u]]=c[e[u]]||{},c=c[e[u]];return[].push.apply(i,[t,r,n]),c[s]=a===!0?o.apply(null,i).create():o.apply(null,i)},"function"==typeof define&&define.amd?define(i):i()})(function(e,t,r){"use strict";var n=!!(Object.getOwnPropertyNames&&Array.prototype.forEach&&Object.getOwnPropertyDescriptor);return Object.create===r&&(Object.create=function(e,t){var n;if(null===e)n={__proto__:null};else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+'] != "object"');var o=function(){};o.prototype=e,n=new o,n.__proto__=e}return t!==r&&Object.defineProperties(n,t),n}),Object.getOwnPropertyDescriptors===r&&(Object.getOwnPropertyDescriptors=function(e){var t={};return Object.getOwnPropertyNames(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t}),{create:function(){var e=Object.create(this,Object.getOwnPropertyDescriptors(this));return e._constructor&&e._constructor.apply(e,arguments),e.create=e.extend=r,e},extend:function(e){if(e=e||{},e._parent=Object.create(this,Object.getOwnPropertyDescriptors(this)),n===!0)return Object.create(this,Object.getOwnPropertyDescriptors(e));var t,r=Object.create(this);for(t in e)"__proto__"!==t&&(r[t]=e[t]);return Object.create(r)}}},window,document),function(e,t){"use strict";var r="qoopido/emitter",n=function n(){return t.qoopido.shared.prepareModule(r,e,arguments)};"function"==typeof define&&define.amd?define(["./base"],n):n(t.qoopido.base)}(function(e,t,r,n){"use strict";var o=/^(_|extend$|create$|on$|one$|off$|emit$|get.+)/;return e.extend({_mapped:null,_listener:null,_constructor:function(){var e,t=this;t._listener={},t._mapped={};for(e in t)"function"==typeof t[e]&&o.test(e)===!1&&(t[e]=t._map(e))},_map:function(e){var t=this,r=e.charAt(0).toUpperCase()+e.slice(1);return t._mapped[e]=t[e],function(){var n,o=Array.prototype.slice.call(arguments);return t.emit.apply(t,["pre"+r,o]),n=t._mapped[e].apply(t,o),t.emit.apply(t,["post"+r,n,o]),n}},on:function(e,t){var r=this;return e!==n&&t!==n&&(r._listener[e]=r._listener[e]||[]).push(t),r},one:function(e,t){var r=this;return e!==n&&t!==n&&(t.once=!0,r.on(e,t)),r},off:function(e,t){var r,o=this;if(e!==n)if(o._listener[e]=o._listener[e]||[],t)for(;-1!==(r=o._listener[e].indexOf(t));)o._listener[e].splice(r,1);else o._listener[e].length=0;return o},emit:function(e){var t,r,o=this,i=Array.prototype.slice.call(arguments).splice(1);if(e!==n)for(o._listener[e]=o._listener[e]||[],t=0;(r=o._listener[e][t])!==n;t++)r.apply(o,i),r.once===!0&&(o._listener[e].splice(t,1),t--);return o}})},window,document),function(e,t,r,n){"use strict";function o(){return[].push.apply(arguments,[t,r,n]),t[i]=t[i]||{},t[i][a]=e.apply(null,arguments).create()}var i="qoopido",a="remux";"function"==typeof define&&define.amd?define(["./emitter"],o):o(t[i].emitter)}(function(e,t,r){"use strict";var n,o,i=r.getElementsByTagName("html")[0],a=16,s={fontsize:null,layout:null,ratio:{}},c={fontsize:null,layout:null},u=null;return n=e.extend({_constructor:function(){var e=this,s=parseInt(i.getAttribute("data-base"),10),c=function c(){null!==u&&t.clearTimeout(u),u=t.setTimeout(function(){e.updateState()},20)};n._parent._constructor.call(e),isNaN(s)===!1&&(a=s),o=r.createElement("style"),o.type="text/css",r.getElementsByTagName("head")[0].appendChild(o),t.addEventListener("resize",c,!1),t.addEventListener("orientationchange",c,!1),e.updateState()},getState:function(){return s},updateState:function(){var e=this;return s.fontsize=parseInt(t.getComputedStyle(i).getPropertyValue("font-size"),10),s.layout=t.getComputedStyle(i,":after").getPropertyValue("content")||null,(s.fontsize!==c.fontsize||s.layout!==c.layout)&&(c.fontsize=s.fontsize,c.layout=s.layout,s.ratio.device=t.devicePixelRatio||1,s.ratio.fontsize=s.fontsize/a,s.ratio.total=s.ratio.device*s.ratio.fontsize,e.emit("statechange",s)),e},addLayout:function(e,t){var n,i,s,c,u,p,l=this;arguments.length>1?(n={},n[e]=t):n=arguments[0];for(i in n)for(s=n[i],c=s.min;s.max>=c;c++)u=Math.round(s.width*(c/a)),p="@media screen and (min-width: "+u+"px) { html { font-size: "+c+'px; } html:after { content: "'+i+'"; display: none; } }',o.styleSheet?o.styleSheet.cssText+=p:o.appendChild(r.createTextNode(p));return l.updateState(),l}})},window,document);